<!DOCTYPE html>
<!-- This site must work in IOS 9.3.5 so that it works on old Ipads. This site must support touch style interfaces. The only client that this site will use will be ipads.-->
<html lang="en">
    <head>
        <meta charset="utf-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.0/css/font-awesome.css" integrity="sha512-72McA95q/YhjwmWFMGe8RI3aZIMCTJWPBbV8iQY3jy1z9+bi6+jHnERuNrDPo/WGYEzzNs4WdHNyyEr/yXJ9pA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.0/css/font-awesome.min.css" integrity="sha512-FEQLazq9ecqLN5T6wWq26hCZf7kPqUbFC9vsHNbXMJtSZZWAcbJspT+/NEAQkBfFReZ8r9QlA9JHaAuo28MTJA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<title>Commander Life Tracker</title>
        <style>
            
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body,
            html {
                height: 100%;
                width: 100%;
                font-family: Arial, sans-serif;
                background-color: #0d1117;
                color: #f0f6fc;
                overflow: hidden;
                margin: 0;
                padding: 0;
            }

            .grid-container {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }

            /* Player panel container - holds both the player area and settings panel */
            .player-container {
                position: absolute;
                width: 50%;
                height: 50%;
                overflow: hidden;
                /* Important to hide the settings panel when not active */
            }

            /* Position the containers */
            .player-container.top-left {
                top: 0;
                left: 0;
            }

            .player-container.top-right {
                top: 0;
                right: 0;
            }

            .player-container.bottom-left {
                bottom: 0;
                left: 0;
            }

            .player-container.bottom-right {
                bottom: 0;
                right: 0;
            }

            /* Player panel (the colored life counter) */
            .player {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                color: rgb(0, 0, 0);
                font-weight: bold;
                border-radius: 15px;
                /* Added rounded corners */
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                -webkit-transition: transform 0.3s ease;
                transition: transform 0.3s ease;
                z-index: 10;
                /* Ensure player panel is above settings panel */
            }

            /* Settings panel (gray area behind player) */
            .settings-panel {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 5;
                color: white;
            }

            .settings-panel.top-left {
                top: 0;
                left: 30px;
                transform: rotate(90deg);
            }

            .settings-panel.top-right {
                top: 0;
                left: -30px;
                transform: rotate(-90deg);
            }

            .settings-panel.bottom-left {
                bottom: 0;
                left: 30px;
                transform: rotate(90deg);
            }

            .settings-panel.bottom-right {
                bottom: 0;
                left: -30px;
                transform: rotate(-90deg);
            }

            /* Individual setting buttons */
            .setting-btn {
                background-color: #21262d;
                color: #f0f6fc;
                padding: 10px 15px;
                border-radius: 5px;
                cursor: pointer;
                text-align: center;
                min-width: 160px;
                margin-bottom: 2px;
                border: 1px solid #30363d;
            }

            .setting-btn:hover {
                background-color: #30363d;
            }

            /* Partner toggle button styling */
            .partner-toggle {
                /*margin-bottom: 15px;*/
            }

            .partner {
                margin-top: 10px;
            }

            .partner-toggle.active {
                background-color: #238636;
                border: 1px solid #2ea043;
            }

            /* New poison counter container */
            .poison-counter-container {
                display: flex;
                align-items: center;
                background-color: #21262d;
                border: 1px solid #30363d;
                border-radius: 5px;
                padding: 5px 10px;
                min-width: 160px;
                justify-content: space-between;
            }

            /* Poison counter arrows */
            .poison-arrow {
                color: #f0f6fc;
                cursor: pointer;
                font-size: 18px;
                padding: 5px;
                width: 30px;
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: #161b22;
                border-radius: 50%;
                transition: background-color 0.2s;
            }

            .poison-arrow:hover {
                background-color: #30363d;
            }

            /* Poison counter display */
            .poison-display {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 0 10px;
            }

            .poison-value {
                font-size: 1.4em;
                font-weight: bold;
                margin-bottom: 2px;
            }

            .poison-symbol {
                font-size: 0.9em;
                color: #7c3aed;
                /* Dark mode poison purple */
            }

            /* Poison indicator on main screen */
            .poison-indicator {
                position: absolute;
                font-size: 1.4em;
                font-weight: bold;
                display: flex;
                align-items: center;
                color: #a855f7;
                /* Dark mode poison purple */
                opacity: 0;
                transition: opacity 0.3s;
            }

            .poison-indicator.visible {
                opacity: 1;
            }

            .player0 .poison-indicator {
                top: 10px;
                right: 10px;
                transform: rotate(90deg);
            }

            .player1 .poison-indicator {
                top: 10px;
                left: 10px;
                transform: rotate(-90deg);
            }

            .player2 .poison-indicator {
                bottom: 10px;
                right: 10px;
                transform: rotate(90deg);
            }

            .player3 .poison-indicator {
                bottom: 10px;
                left: 10px;
                transform: rotate(-90deg);
            }

            /* Arrow indicators for sliding */
            .arrow-indicator {
                position: absolute;
                color: #8b949e;
                font-size: 24px;
                z-index: 15;
                opacity: 0.7;
                cursor: pointer;
                /* Ensure touch target is large enough for iOS 9.3.5 */
                min-width: 44px;
                min-height: 44px;
                /* iOS 9.3.5 compatible flexbox */
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                /* iOS 9.3.5 touch compatibility */
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

            /* Position arrows based on player position */
            .player-container.top-left .arrow-indicator {
                right: 0px;
                top: 50%;
                transform: translateY(-50%);
            }

            .player-container.top-right .arrow-indicator {
                left: 0px;
                top: 50%;
                transform: translateY(-50%);
            }

            .player-container.bottom-left .arrow-indicator {
                right: 0px;
                top: 50%;
                transform: translateY(-50%);
            }

            .player-container.bottom-right .arrow-indicator {
                left: 0px;
                top: 50%;
                transform: translateY(-50%);
            }

            /* Slide animation classes */
            .player-container.top-left.active .player {
                transform: translateX(-90%);
            }

            .player-container.top-right.active .player {
                transform: translateX(90%);
            }

            .player-container.bottom-left.active .player {
                transform: translateX(-90%);
            }

            .player-container.bottom-right.active .player {
                transform: translateX(90%);
            }

            /* Player colors - Deep dark mode palette with gradients */
            .player0 {
                background: linear-gradient(135deg, #da3633 0%, #b12b29 50%, #9a2623 100%);
                box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 2px 8px rgba(218, 54, 51, 0.3);
            }

            .player1 {
                background: linear-gradient(135deg, #238636 0%, #1a6629 50%, #155520 100%);
                box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 2px 8px rgba(35, 134, 54, 0.3);
            }

            .player2 {
                background: linear-gradient(135deg, #1f6feb 0%, #1958c7 50%, #1448a0 100%);
                box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 2px 8px rgba(31, 111, 235, 0.3);
            }

            .player3 {
                background: linear-gradient(135deg, #fb8500 0%, #d16a00 50%, #b8590c 100%);
                box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 2px 8px rgba(251, 133, 0, 0.3);
            }

            .command-damage {
                font-size: 2.5em;
                position: absolute;
                text-align: center;
                pointer-events: none;
                top: 50%;
                left: 50%;
                -webkit-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
                margin: 0;
                line-height: 1;
            }

            .player0 .command-damage,
            .player2 .command-damage {
                -webkit-transform: translate(-50%, -50%) rotate(90deg);
                transform: translate(-50%, -50%) rotate(90deg);
            }

            .player1 .command-damage,
            .player3 .command-damage {
                -webkit-transform: translate(-50%, -50%) rotate(-90deg);
                transform: translate(-50%, -50%) rotate(-90deg);
            }

            .life-total {
                font-size: 4em;
                position: absolute;
                text-align: center;
                pointer-events: none;
                top: 50%;
                left: 50%;
                -webkit-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
                margin: 0;
                line-height: 1;
            }

            .player0 .life-total,
            .player2 .life-total {
                -webkit-transform: translate(-50%, -50%) rotate(90deg);
                transform: translate(-50%, -50%) rotate(90deg);
            }

            .player1 .life-total,
            .player3 .life-total {
                -webkit-transform: translate(-50%, -50%) rotate(-90deg);
                transform: translate(-50%, -50%) rotate(-90deg);
            }

            .half {
                position: absolute;
                width: 100%;
                height: 50%;
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                font-size: 3em;
                color: black;
                font-weight: bold;
                cursor: pointer;
                -webkit-transition: background-color 0.2s;
                transition: background-color 0.2s;
                line-height: 1;
                text-align: center;
            }

            .top-half {
                top: 0;
                left: 0;
                margin: 0;
                line-height: 1;
            }

            .bottom-half {
                bottom: 0;
                left: 0;
                margin: 0;
                line-height: 1;
            }

            .half.dimmed {
                background-color: rgba(0, 0, 0, 0.2);
            }

            .tap-counter {
                position: absolute;
                font-size: 1em;
                opacity: 0;
                -webkit-transition: opacity 0.2s;
                transition: opacity 0.2s;
            }

            .tap-counter.show {
                opacity: 1;
            }

            .top-half .tap-counter {
                top: 10%;
                color: rgb(0, 0, 0);
            }

            .bottom-half .tap-counter {
                bottom: 10%;
                color: rgb(0, 0, 0);
            }

            .player0 .tap-counter,
            .player2 .tap-counter {
                -webkit-transform: rotate(90deg);
                transform: rotate(90deg);
            }

            .player1 .tap-counter,
            .player3 .tap-counter {
                -webkit-transform: rotate(-90deg);
                transform: rotate(-90deg);
            }

            .player0 .minus,
            .player2 .minus {
                display: inline-block;
                -webkit-transform: rotate(90deg);
                transform: rotate(90deg);
            }

            .player1 .minus,
            .player3 .minus {
                display: inline-block;
                -webkit-transform: rotate(-90deg);
                transform: rotate(-90deg);
            }

            .commander-damage-container {
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                position: absolute;
            }

            .commander-damage-box {
                width: 45px;
                height: 45px;
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                margin-right: 6px;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                font-size: 1.1em;
                color: white;
                font-weight: bold;
                border-radius: 6px;
                cursor: pointer;
            }

            /* Partner commander boxes styling */
            .commander-damage-box.partner {
                height: 34px;
                font-size: 0.9em;
                margin-bottom: 3px;
            }

            .commander-damage-container .damage-1 {
                background-color: #238636;
            }

            .commander-damage-container .damage-3 {
                background-color: #fb8500;
            }

            .commander-damage-container .damage-2 {
                background-color: #1f6feb;
            }

            .commander-damage-container .damage-0 {
                background-color: #da3633;
            }

            /* Partner commander colors (darker versions) */
            .damage-1.partner {
                background-color: #1a6629;
            }

            .damage-3.partner {
                background-color: #d16a00;
            }

            .damage-2.partner {
                background-color: #1958c7;
            }

            .damage-0.partner {
                background-color: #b12b29;
            }

            .player0 .commander-damage-container {
                left: -3%;
                top: 50%;
                -webkit-transform: translateY(-50%) rotate(90deg);
                transform: translateY(-50%) rotate(90deg);
            }

            .player2 .commander-damage-container {
                left: -3%;
                top: 50%;
                -webkit-transform: translateY(-50%) rotate(90deg);
                transform: translateY(-50%) rotate(90deg);
            }

            .player1 .commander-damage-container {
                right: -3%;
                top: 50%;
                -webkit-transform: translateY(-50%) rotate(-90deg);
                transform: translateY(-50%) rotate(-90deg);
            }

            .player3 .commander-damage-container {
                right: -3%;
                top: 50%;
                -webkit-transform: translateY(-50%) rotate(-90deg);
                transform: translateY(-50%) rotate(-90deg);
            }

            .radial-menu {
                position: absolute;
                top: 50%;
                left: 50%;
                -webkit-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                z-index: 20;
                /* Make sure menu is on top */
            }

            .menu-button {
                font-size: 2em;
                background-color: #21262d;
                color: #f0f6fc;
                border: 1px solid #30363d;
                border-radius: 50%;
                padding: 20px;
                cursor: pointer;
                -webkit-transition: background 0.3s;
                transition: background 0.3s;
                z-index: 10;
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
            }

            .menu-button:hover {
                background-color: #30363d;
            }

            .menu-option {
                position: absolute;
                width: 120px;
                height: 35px;
                background-color: #21262d;
                color: #f0f6fc;
                border: 1px solid #30363d;
                border-radius: 10px;
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                opacity: 0;
                -webkit-transition: all 0.3s;
                transition: all 0.3s;
                font-size: 1em;
                pointer-events: none;
            }

            .menu-open .menu-option {
                opacity: 1;
                pointer-events: auto;
            }

            .menu-option.restart {
                -webkit-transform: translate(-70px, -120px);
                transform: translate(-70px, -120px);
            }

            .menu-option.full-screen {
                -webkit-transform: translate(70px, -120px);
                transform: translate(70px, -120px);
            }

            .active-cmd-damage-div {
                /*background-image: -webkit-linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.2) 100%); 
                background-image: linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.2) 100%);*/
                box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.1), 0 0 15px rgba(255, 255, 255, 0.2);
            }

            .disabled {
                pointer-events: none;
                display: none;
            }

            .hidden-container {
                pointer-events: none;
                opacity: 0.3;
            }

            .enabled-div {
                pointer-events: auto;
                opacity: 1;
            }

            /* New styles for the death feature */
            .player-dead {
                /*background-image: -webkit-linear-gradient(rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.6) 100%);
                background-image: linear-gradient(rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.6) 100%);*/
                box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 2px 8px rgba(0, 0, 0, 0.5);
            }

            .skull {
                position: absolute;
                font-size: 5em;
                z-index: 5;
                pointer-events: none;
                top: 50%;
                left: 50%;
                display: none;
                /* Hide by default */
            }

            .player0 .skull,
            .player2 .skull {
                -webkit-transform: translate(-50%, -50%) rotate(90deg);
                transform: translate(-50%, -50%) rotate(90deg);
            }

            .player1 .skull,
            .player3 .skull {
                -webkit-transform: translate(-50%, -50%) rotate(-90deg);
                transform: translate(-50%, -50%) rotate(-90deg);
            }

            /* Hide life total when player is dead */
            .player-dead .life-total {
                display: none;
            }

            .partner-split-container {
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                width: 100%;
                height: 100%;
                position: absolute;
                padding: 0;
                /* iOS 9.3.5 fallback */
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                top: 0;
            }

            .partner-half {
                -webkit-box-flex: 0;
                -webkit-flex: 0 1 45%;
                flex: 0 1 45%;
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-flex-direction: column;
                flex-direction: column;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                position: relative;
                height: 100%;
                /* Ensure consistent spacing */
                margin: 0 2%;
            }

            .partner-damage {
                position: relative !important;
                width: 90%;
                height: 33.33%;
                -webkit-transform-style: preserve-3d;
                transform-style: preserve-3d;
                text-align: center;
                /* iOS 9.3.5 centering fallback */
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-align: center;
                -webkit-align-items: center;
                align-items: center;
                -webkit-box-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                /* Better positioning for iOS 9.3.5 */
                margin: 0 auto;
            }

            .Quarter-left {
                left: auto !important;
                -webkit-transform: translateX(0);
                transform: translateX(0);
            }

            .Quarter-right {
                right: auto !important;
                -webkit-transform: translateX(0);
                transform: translateX(0);
            }

            .regular-commander-damage,
            .partner-damage-0,
            .partner-damage-1 {
                position: absolute;
                font-size: 1.5em; /* Reduced from 2em */
                font-weight: bold;
                color: black;
                /* iOS 9.3.5 centering with better positioning */
                /*top: 40%; /* Moved up from 50% */
                left: 50%;
                -webkit-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
                margin: 0;
                padding: 0;
                line-height: 1;
                text-align: center;
                width: auto;
                height: auto;
                /* Ensure text stays centered */
                white-space: nowrap;
                top:auto;
                left: auto;
                right: auto;
            }

            .partner-damage-1.partner-damage {
                top: 2%;
                right: 5%;
                left: 5%;
            }

            .partner-damage-0.regular-commander-damage {
                top: 30%;
            }

            .partner-damage .minus {
                position: absolute;
                left: 50% !important;
                /*top: 75% !important;*/
                -webkit-transform: translateX(-50%);
                transform: translateX(-50%);
                margin: 0;
                padding: 0;
                font-size: 2em; /* Reduced from 3em */
            }

            .partner-damage .plus {
                position: absolute;
                left: 50% !important;
                top: 25% !important; /* Slightly below top to mirror minus placement visually */
                -webkit-transform: translateX(-50%);
                transform: translateX(-50%);
                margin: 0;
                padding: 0;
                font-size: 2em; /* Reduced from 3em */
            }

            .partner-damage .tap-counter {
                position: absolute;
                left: 50%;
                font-size: 0.8em;
                -webkit-transform: translateX(-50%);
                transform: translateX(-50%);
                margin: 0;
                padding: 0;
                color: black;
                font-weight: bold;
                opacity: 0;
                -webkit-transition: opacity 0.2s;
                transition: opacity 0.2s;
                pointer-events: none;
                line-height: 1;
                text-align: center;
                width: auto;
            }

            .partner-damage.top-half .tap-counter {
                top: 8%; /* Moved up slightly */
            }

            .partner-damage.bottom-half .tap-counter {
                bottom: 8%; /* Moved up slightly */
            }

            /* Enhanced iOS 9.3.5 specific fallbacks */
            @supports (-webkit-overflow-scrolling: touch) {
                .partner-split-container {
                    display: -webkit-box;
                    -webkit-box-align: center;
                    -webkit-box-pack: center;
                    top: 0;
                }

                .partner-half {
                    -webkit-box-flex: 0;
                    -webkit-box-orient: vertical;
                    -webkit-box-align: center;
                    -webkit-box-pack: center;
                    width: 45%;
                    margin: 0 2%;
                }

                .partner-damage {
                    display: -webkit-box;
                    -webkit-box-align: center;
                    -webkit-box-pack: center;
                    width: 90%;
                    margin: 0 auto;
                }

                .regular-commander-damage,
                .partner-damage-0,
                .partner-damage-1 {
                    position: absolute;
                    left: 50%;
                    -webkit-transform: translate(-50%, -50%);
                    transform: translate(-50%, -50%);
                    display: block;
                    text-align: center;
                    white-space: nowrap;
                    font-size: 1.5em; /* Consistent reduced size */
                }
            }

            /* Additional iOS 9.3.5 viewport fixes */
            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .partner-split-container {
                    left: -5%;
                    top: 0;
                }
                
                .partner-damage {
                    -webkit-box-sizing: border-box;
                    box-sizing: border-box;
                    width: 90%;
                    margin: 0 auto;
                }
                
                .regular-commander-damage,
                .partner-damage-0,
                .partner-damage-1 {
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                    white-space: nowrap;
                    font-size: 1.5em; /* Consistent reduced size */
                }
            }

            /* Color picker specific tweaks */
            .color-setting {
                display: flex !important;
                /*
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: 8px;
                /*flex-direction: column;
                padding: 8px 15px;*/
            }

            .color-setting input[type="color"] {
                width: 42px;
                height: 32px;
                padding: 0;
                border: none;
                background: none;
                cursor: pointer;
            }

            .color-setting span {
                font-size: 0.9em;
                text-align: center;
                margin-bottom: 8px;
            }

            /* Custom color picker for iOS 9.3.5 compatibility */
            .custom-color-picker {
                display: flex;
                grid-template-columns: repeat(8, 1fr);
                gap: 4px;
                width: 100%;
                margin-top: 5px;
                padding: 0 5px;
            }

            .color-option {
                width: 26px;
                height: 26px;
                border-radius: 4px;
                cursor: pointer;
                border: 2px solid transparent;
                transition: all 0.2s;
                margin: 0 auto;
            }

            .color-option:hover {
                transform: scale(1.1);
            }

            .color-option.selected {
                border-color: #fff;
                box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);
                transform: scale(1.1);
            }

            /* Hide HTML5 color input on iOS (fallback) */
            @supports (-webkit-overflow-scrolling: touch) {
                .color-setting input[type="color"] {
                    display: none;
                }
                .custom-color-picker {
                    display: grid;
                }
            }
        </style>
    </head>
    <body>
        <div class="grid-container" id="gridContainer">
            <!-- Player 1 Container (top-left) -->
            <div class="player-container top-left" id="container0">
                <div class="settings-panel top-left">
                    <div class="setting-btn" onclick="resetPlayerLife(0)">Reset Life</div>
                    <div class="setting-btn" onclick="resetCommanderDamage(0)">Reset Cmd DMG</div>
                    <div class="setting-btn partner-toggle" id="partnerToggle0" onclick="togglePartnerMode(0)">Partner Mode:
                        OFF</div>

                    <!-- New Poison Counter Control -->
                    <div class="poison-counter-container">
                        <div class="poison-arrow" onclick="adjustPoisonCounter(0, -1)">−</div>
                        <div class="poison-display">
                            <div class="poison-value" id="poison-value-0">0</div>
                            <div class="poison-symbol">☠️</div>
                        </div>
                        <div class="poison-arrow" onclick="adjustPoisonCounter(0, 1)">+</div>
                    </div>

                    <!-- Color picker moved to bottom -->
                    <div class="setting-btn color-setting">
                        <span>Player Color</span>
                        <input type="color" id="colorPicker0" onchange="updatePlayerColor(0, this.value)" />
                        <div class="custom-color-picker" id="customColorPicker0">
                            <div class="color-option" style="background-color: #da3633;" data-color="#da3633"></div>
                            <div class="color-option" style="background-color: #238636;" data-color="#238636"></div>
                            <div class="color-option" style="background-color: #1f6feb;" data-color="#1f6feb"></div>
                            <div class="color-option" style="background-color: #fb8500;" data-color="#fb8500"></div>
                            <div class="color-option" style="background-color: #8b5cf6;" data-color="#8b5cf6"></div>
                            <div class="color-option" style="background-color: #ec4899;" data-color="#ec4899"></div>
                            <div class="color-option" style="background-color: #06b6d4;" data-color="#06b6d4"></div>
                            <div class="color-option" style="background-color: #84cc16;" data-color="#84cc16"></div>
                        </div>
                    </div>
                </div>
                <div class="player player0" id="player0">
                    <div class="arrow-indicator"><i class="fa fa-cog"></i></div>
                    <div class="command-damage disabled damage-0">▶️ Click to Exit</div>
                    <div class="life-total" id="life0">40</div>
                    <div class="skull" id="skull0">☠️</div>
                    <div class="poison-indicator" id="poison-indicator-0">0 ☠️</div>

                    <div class="half top-half basic-commander" onclick="tapLife(0, -1, this)">
                        <div class="minus">-</div>
                        <div class="tap-counter" id="tapCounter0Minus">-1</div>
                    </div>
                    <div class="half bottom-half basic-commander" onclick="tapLife(0, 1, this)">
                        <div class="plus">+</div>
                        <div class="tap-counter" id="tapCounter0Plus">+1</div>
                    </div>

                    <div class="commander-damage-container" id="commander-damage-container0">
                        <div>
                            <div class="commander-damage-box damage-1 enemy-partner-0" onclick="adjustCommanderDamage(0)">0</div>
                            <div class="commander-damage-box damage-1 partner enemy-partner-1" onclick="adjustCommanderDamage(0)"
                                style="display: none;">0</div>
                        </div>
                        <div>
                            <div class="commander-damage-box damage-2 enemy-partner-0" onclick="adjustCommanderDamage(0)">0</div>
                            <div class="commander-damage-box damage-2 partner enemy-partner-1" onclick="adjustCommanderDamage(0)"
                                style="display: none;">0</div>
                        </div>
                        <div>
                            <div class="commander-damage-box damage-3 enemy-partner-0" onclick="adjustCommanderDamage(0)">0</div>
                            <div class="commander-damage-box damage-3 partner enemy-partner-1" onclick="adjustCommanderDamage(0)"
                                style="display: none;">0</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Player 2 Container (top-right) -->
            <div class="player-container top-right" id="container1">
                <div class="settings-panel top-right">
                    <div class="setting-btn" onclick="resetPlayerLife(1)">Reset Life</div>
                    <div class="setting-btn" onclick="resetCommanderDamage(1)">Reset Cmd DMG</div>
                    <div class="setting-btn partner-toggle" id="partnerToggle1" onclick="togglePartnerMode(1)">Partner Mode:
                        OFF</div>

                    <!-- New Poison Counter Control -->
                    <div class="poison-counter-container">
                        <div class="poison-arrow" onclick="adjustPoisonCounter(1, -1)">−</div>
                        <div class="poison-display">
                            <div class="poison-value" id="poison-value-1">0</div>
                            <div class="poison-symbol">☠️</div>
                        </div>
                        <div class="poison-arrow" onclick="adjustPoisonCounter(1, 1)">+</div>
                    </div>

                    <!-- Color picker moved to bottom -->
                    <div class="setting-btn color-setting">
                        <span>Player Color</span>
                        <input type="color" id="colorPicker1" onchange="updatePlayerColor(1, this.value)" />
                        <div class="custom-color-picker" id="customColorPicker1">
                            <div class="color-option" style="background-color: #da3633;" data-color="#da3633"></div>
                            <div class="color-option" style="background-color: #238636;" data-color="#238636"></div>
                            <div class="color-option" style="background-color: #1f6feb;" data-color="#1f6feb"></div>
                            <div class="color-option" style="background-color: #fb8500;" data-color="#fb8500"></div>
                            <div class="color-option" style="background-color: #8b5cf6;" data-color="#8b5cf6"></div>
                            <div class="color-option" style="background-color: #ec4899;" data-color="#ec4899"></div>
                            <div class="color-option" style="background-color: #06b6d4;" data-color="#06b6d4"></div>
                            <div class="color-option" style="background-color: #84cc16;" data-color="#84cc16"></div>
                        </div>
                    </div>
                </div>
                <div class="player player1" id="player1">
                    <div class="arrow-indicator"><i class="fa fa-cog"></i></div>
                    <div class="command-damage disabled damage-1">▶️ Click to Exit</div>
                    <div class="life-total" id="life1">40</div>
                    <div class="skull" id="skull1">☠️</div>
                    <div class="poison-indicator" id="poison-indicator-1">0☠️</div>
                    <div class="half top-half basic-commander" onclick="tapLife(1, 1, this)">
                        <div class="plus">+</div>
                        <div class="tap-counter" id="tapCounter1Plus">+1</div>
                    </div>
                    <div class="half bottom-half basic-commander" onclick="tapLife(1, -1, this)">
                        <div class="minus">-</div>
                        <div class="tap-counter" id="tapCounter1Minus">-1</div>
                    </div>

                    <div class="commander-damage-container" id="commander-damage-container1">
                        <div>
                            <div class="commander-damage-box damage-0 enemy-partner-0" onclick="adjustCommanderDamage(1)">0</div>
                            <div class="commander-damage-box damage-0 partner enemy-partner-1" onclick="adjustCommanderDamage(1)"
                                style="display: none;">0</div>
                        </div>
                        <div>
                            <div class="commander-damage-box damage-2 enemy-partner-0" onclick="adjustCommanderDamage(1)">0</div>
                            <div class="commander-damage-box damage-2 partner enemy-partner-1" onclick="adjustCommanderDamage(1)"
                                style="display: none;">0</div>
                        </div>
                        <div>
                            <div class="commander-damage-box damage-3 enemy-partner-0" onclick="adjustCommanderDamage(1)">0</div>
                            <div class="commander-damage-box damage-3 partner enemy-partner-1" onclick="adjustCommanderDamage(1)"
                                style="display: none;">0</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Player 3 Container (bottom-left) -->
            <div class="player-container bottom-left" id="container2">
                <div class="settings-panel bottom-left">
                    <div class="setting-btn" onclick="resetPlayerLife(2)">Reset Life</div>
                    <div class="setting-btn" onclick="resetCommanderDamage(2)">Reset Cmd DMG</div>
                    <div class="setting-btn partner-toggle" id="partnerToggle2" onclick="togglePartnerMode(2)">Partner Mode:
                        OFF</div>

                    <!-- New Poison Counter Control -->
                    <div class="poison-counter-container">
                        <div class="poison-arrow" onclick="adjustPoisonCounter(2, -1)">−</div>
                        <div class="poison-display">
                            <div class="poison-value" id="poison-value-2">0</div>
                            <div class="poison-symbol">☠️</div>
                        </div>
                        <div class="poison-arrow" onclick="adjustPoisonCounter(2, 1)">+</div>
                    </div>

                    <!-- Color picker moved to bottom -->
                    <div class="setting-btn color-setting">
                        <span>Player Color</span>
                        <input type="color" id="colorPicker2" onchange="updatePlayerColor(2, this.value)" />
                        <div class="custom-color-picker" id="customColorPicker2">
                            <div class="color-option" style="background-color: #da3633;" data-color="#da3633"></div>
                            <div class="color-option" style="background-color: #238636;" data-color="#238636"></div>
                            <div class="color-option" style="background-color: #1f6feb;" data-color="#1f6feb"></div>
                            <div class="color-option" style="background-color: #fb8500;" data-color="#fb8500"></div>
                            <div class="color-option" style="background-color: #8b5cf6;" data-color="#8b5cf6"></div>
                            <div class="color-option" style="background-color: #ec4899;" data-color="#ec4899"></div>
                            <div class="color-option" style="background-color: #06b6d4;" data-color="#06b6d4"></div>
                            <div class="color-option" style="background-color: #84cc16;" data-color="#84cc16"></div>
                        </div>
                    </div>
                </div>
                <div class="player player2" id="player2">
                    <div class="arrow-indicator"><i class="fa fa-cog"></i></div>
                    <div class="command-damage disabled damage-2">▶️ Click to Exit</div>
                    <div class="life-total" id="life2">40</div>
                    <div class="skull" id="skull2">☠️</div>
                    <div class="poison-indicator" id="poison-indicator-2">0 ☠️</div>
                    <div class="half top-half basic-commander" onclick="tapLife(2, -1, this)">
                        <div class="minus">-</div>
                        <div class="tap-counter" id="tapCounter2Minus">-1</div>
                    </div>
                    <div class="half bottom-half basic-commander" onclick="tapLife(2, 1, this)">
                        <div class="plus">+</div>
                        <div class="tap-counter" id="tapCounter2Plus">+1</div>
                    </div>

                    <div class="commander-damage-container" id="commander-damage-container2">
                        <div>
                            <div class="commander-damage-box damage-0 enemy-partner-0" onclick="adjustCommanderDamage(2)">0</div>
                            <div class="commander-damage-box damage-0 partner enemy-partner-1" onclick="adjustCommanderDamage(2)"
                                style="display: none;">0</div>
                        </div>
                        <div>
                            <div class="commander-damage-box damage-1 enemy-partner-0" onclick="adjustCommanderDamage(2)">0</div>
                            <div class="commander-damage-box damage-1 partner enemy-partner-1" onclick="adjustCommanderDamage(2)"
                                style="display: none;">0</div>
                        </div>
                        <div>
                            <div class="commander-damage-box damage-3 enemy-partner-0" onclick="adjustCommanderDamage(2)">0</div>
                            <div class="commander-damage-box damage-3 partner enemy-partner-1" onclick="adjustCommanderDamage(2)"
                                style="display: none;">0</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Player 4 Container (bottom-right) -->
            <div class="player-container bottom-right" id="container3">
                <div class="settings-panel bottom-right">
                    <div class="setting-btn" onclick="resetPlayerLife(3)">Reset Life</div>
                    <div class="setting-btn" onclick="resetCommanderDamage(3)">Reset Cmd DMG</div>
                    <div class="setting-btn partner-toggle" id="partnerToggle3" onclick="togglePartnerMode(3)">Partner Mode:
                        OFF</div>

                    <!-- New Poison Counter Control -->
                    <div class="poison-counter-container">
                        <div class="poison-arrow" onclick="adjustPoisonCounter(3, -1)">−</div>
                        <div class="poison-display">
                            <div class="poison-value" id="poison-value-3">0</div>
                            <div class="poison-symbol">☠️</div>
                        </div>
                        <div class="poison-arrow" onclick="adjustPoisonCounter(3, 1)">+</div>
                    </div>

                    <!-- Color picker moved to bottom -->
                    <div class="setting-btn color-setting">
                        <span>Player Color</span>
                        <input type="color" id="colorPicker3" onchange="updatePlayerColor(3, this.value)" />
                        <div class="custom-color-picker" id="customColorPicker3">
                            <div class="color-option" style="background-color: #da3633;" data-color="#da3633"></div>
                            <div class="color-option" style="background-color: #238636;" data-color="#238636"></div>
                            <div class="color-option" style="background-color: #1f6feb;" data-color="#1f6feb"></div>
                            <div class="color-option" style="background-color: #fb8500;" data-color="#fb8500"></div>
                            <div class="color-option" style="background-color: #8b5cf6;" data-color="#8b5cf6"></div>
                            <div class="color-option" style="background-color: #ec4899;" data-color="#ec4899"></div>
                            <div class="color-option" style="background-color: #06b6d4;" data-color="#06b6d4"></div>
                            <div class="color-option" style="background-color: #84cc16;" data-color="#84cc16"></div>
                        </div>
                    </div>
                </div>
                <div class="player player3" id="player3">
                    <div class="arrow-indicator"><i class="fa fa-cog"></i></div>
                    <div class="command-damage disabled damage-3">▶️ Click to Exit</div>
                    <div class="life-total" id="life3">40</div>
                    <div class="skull" id="skull3">☠️</div>
                    <div class="poison-indicator" id="poison-indicator-3">0 ☠️</div>
                    <div class="half top-half basic-commander" onclick="tapLife(3, 1, this)">
                        <div class="plus">+</div>
                        <div class="tap-counter" id="tapCounter3Plus">+1</div>
                    </div>
                    <div class="half bottom-half basic-commander" onclick="tapLife(3, -1, this)">
                        <div class="minus">-</div>
                        <div class="tap-counter" id="tapCounter3Minus">-1</div>
                    </div>

                    <div class="commander-damage-container" id="commander-damage-container3">
                        <div>
                            <div class="commander-damage-box damage-0 enemy-partner-0" onclick="adjustCommanderDamage(3)">0</div>
                            <div class="commander-damage-box damage-0 partner enemy-partner-1" onclick="adjustCommanderDamage(3)"
                                style="display: none;">0</div>
                        </div>
                        <div>
                            <div class="commander-damage-box damage-1 enemy-partner-0" onclick="adjustCommanderDamage(3)">0</div>
                            <div class="commander-damage-box damage-1 partner enemy-partner-1" onclick="adjustCommanderDamage(3)"
                                style="display: none;">0</div>
                        </div>
                        <div>
                            <div class="commander-damage-box damage-2 enemy-partner-0" onclick="adjustCommanderDamage(3)">0</div>
                            <div class="commander-damage-box damage-2 partner enemy-partner-1" onclick="adjustCommanderDamage(3)"
                                style="display: none;">0</div>
                        </div>
                    </div>
                </div>
            </div>
            <!--
                <div class="radial-menu" id="radialMenu">
                    <div class="menu-button" onclick="toggleMenu()">Menu</div>
                    <div class="menu-option restart" onclick="restartGame()">RESTART</div>
                </div>
            -->
        </div>

    </body>
    <script src="lifetracker.js"></script>
</html>
